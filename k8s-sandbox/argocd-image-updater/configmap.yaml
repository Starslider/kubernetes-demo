apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-image-updater-config
  namespace: argocd
data:
  # Enable image updater for specific registries
  registries.conf: |
    registries:
    - name: GitHub Container Registry
      prefix: ghcr.io
      api_url: https://ghcr.io
      ping: yes
      insecure: no
      credentials: secret:argocd/github-registry-creds#creds
      default: yes

  # Git commit configuration
  git.user: argocd-image-updater
  git.email: argocd-image-updater@argoproj.io

  # Application configuration
  applications.conf: |
    applications:
    - name: k8s-workshop
